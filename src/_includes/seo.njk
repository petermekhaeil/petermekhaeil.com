<title>{{metadata.title }} {% if title %}|{% endif %} {{ title | safe or metadata.title | safe }}</title>
<meta name="description" content="{{ description or metadata.description | safe }}">

{% set canonicalUrl = metadata.url + page.url %}
<link rel="canonical" href="{{ canonicalUrl }}">

<meta property="og:type" content="blog">
<meta property="og:url" content="{{ canonicalUrl }}">
<meta property="og:title" content="{{ title | safe }}">
<meta property="og:description" content="{{ description or metadata.description | safe }}">
<meta property="og:site_name" itemprop="name" content="{{ metadata.title }}">

{% if title and date %}
<meta property="og:image" content="{{ metadata.url }}/image/og?title={{ title | encodeUrl }}&subTitle={{ date | htmlDateString | encodeUrl }}">
<meta name="twitter:image" content="{{ metadata.url }}/image/og?title={{ title | encodeUrl }}&subTitle={{ date | htmlDateString | encodeUrl }}">
{% else %}
<meta property="og:image" content="{{ metadata.image }}">
<meta name="twitter:image" content="{{ metadata.image }}">
{% endif %}
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@{{ metadata.author.twitter }}">
<meta name="twitter:creator" content="@{{ metadata.author.twitter }}">
<meta name="twitter:url" content="{{ canonicalUrl }}">
<meta name="twitter:title" content="{{ title | safe }}">
<meta name="twitter:description" content="{{ description or metadata.description | safe }}">
<meta name="twitter:alt" ontent="{{ title | safe }}">
